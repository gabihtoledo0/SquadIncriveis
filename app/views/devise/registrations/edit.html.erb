<br>
<h2 class="fonte-titulo">Você pode atualizar a sua conta aqui
</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
<%= render "devise/shared/error_messages", resource: resource %>

<br>
<br>
<!-- cpf para física -->
<% if current_user.pf_pj == "PF" %>
<p>
  <div class="container" style="max-width: 500px; margin-top: 10px;">
    <a class="bg-light-yellow" data-toggle="collapse" href="#collapseExample_0" role="button" aria-expanded="false"
      aria-controls="collapseExample">
      Dados Pessoais
    </a>
</p>
<div class="collapse" id="collapseExample_0">
  <div class="card card-body">

    <div class="field">
      <%= f.label :fullname, :class => "fonte-edit", :style => "margin-right: 30px" %><br />
      <%= f.text_field :fullname, :class => "caixa-de-texto-login borda-caixa-texto", autofocus: true, :placeholder => "Seu nome", :maxlength => "50" %>
    </div>
    <div id="esc_cpf">
      <div class="row">
        <div class="col-sm field .col-12 .col-md-8" style="margin-left: 20px;" data-placement="top"
          data-trigger="manual" data-toggle="popover" data-content="CPF inválido" id="text-cpf">
          </br>
          <%= f.label :cpf, :class => "fonte-edit", :style => "margin-right: 30px" %><br />
          <%= f.text_field :cpf, autofocus: true, :class => "caixa-de-texto-cad borda-caixa-texto", :placeholder => "000.000.000-00", :disabled => "disabled"%>
          <small id="estadHelp" class="form-text text-muted">*Este campo não pode ser alterado</small>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</div></br>

<% else %>

<!--  cnpj para juridica -->
<!-- collapse Dados Pessoais -->
<p>
  <div class="container" style="max-width: 500px; margin-top: 10px;">

    <a class="bg-light-yellow" data-toggle="collapse" href="#collapseExample" type="button" aria-expanded="false"
      aria-controls="collapseExample">
      Dados Pessoais
    </a>
</p>
<div class="collapse" id="collapseExample">
  <div class="card card-body">
    <div id="esc_razao">
      <div class="row">
        <div class="col-sm field .col-12 .col-md-8">
          </br>
          <%= f.label :razaosocial, :class => "fonte-label", :style => "margin-left: 30px" %><br />
          <%= f.text_field :razaosocial, autofocus: true, :class => "caixa-de-texto-login borda-caixa-texto", :placeholder => "Ex: Youse Seguradora S.A"%>
        </div>
      </div>
    </div>

    <div id="esc_cnpj">
      <div class="row">
        <div class="col-sm field .col-12 .col-md-8">
          </br>
          <%= f.label :cnpj, :class => "fonte-label", :style => "margin-left: 10px" %><br />
          <%= f.text_field :cnpj, autofocus: true, :class => "caixa-de-texto-cad borda-caixa-texto", :placeholder => "00.000.000/0000.00", :disabled => "disabled"%>
          <small id="estadHelp" class="form-text text-muted">*Este campo não pode ser alterado</small>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

</br></br>

<% end %>

<div>
  <div class="container" style="max-width: 500px; margin-top: 10px;">
    <a class="bg-light-yellow" style="max-width: 600px;" data-toggle="collapse" href="#collapseExample_2" role="button"
      aria-expanded="false" aria-controls="collapseExample">
      Endereço
    </a>
    </br>
    </p>
    <div class="collapse" id="collapseExample_2">
      <div class="card card-body">
        <div id="esc_cep">
          <div class="row">
            <div class="col-sm field .col-12 .col-md-8" style="margin-left: 30px;" data-placement="top"
              data-trigger="manual" data-toggle="popover" data-content="O  CEP não é válido" id="text-cep">
              </br>
              <%= f.label :cep, :class => "fonte-label", :style => "margin-right: 250px" %><br />
              <%= f.text_field :cep, autofocus: true, :class => "caixa-de-texto-login borda-caixa-texto", :placeholder => "00000-000"%>
              <small id="cepHelp" class="form-text text-muted" style="display:none;">*Campo não obrigatório</small>
            </div>
          </div>
        </div>

        <div id="esc_est">
          <div class="col-sm field .col-12 .col-md-8" style="margin-left: 20px;">
            </br>
            <%= f.label :Estado, :class => "fonte-label", :style => "margin-right: 250px" %>
            <%= f.select :estado, states, autofocus: true %>
            <small id="estadHelp" class="form-text text-muted">*Campo não obrigatório</small>
          </div>
        </div>

        <div id="esc_cid">
          <div class="col-sm field .col-12 .col-md-8" style="margin-left: 30px;">
            </br>
            <%= f.label :Cidade, :class => "fonte-label", :style => "margin-right: 250px" %>
            <%= f.text_field :cidade, autofocus: true , :class => "caixa-de-texto-login borda-caixa-texto", :placeholder => "Cidade"%>
            <small id="cidHelp" class="form-text text-muted">*Campo não obrigatório</small>
          </div>
        </div>
        </br>

        <div id="esc_bairro">
          <div class="col-sm field .col-12 .col-md-8" style="margin-left: 30px;">
            <%= f.label :Bairro, :class => "fonte-label", :style => "margin-right: 250px" %>
            <%= f.text_field :bairro, autofocus: true, :class => "caixa-de-texto-login borda-caixa-texto", :placeholder => "Estado"%>
            <small id="bairroHelp" class="form-text text-muted">*Campo não obrigatório</small>
          </div>
        </div>
        </br>

        <div id="esc_rua">
          <div class="row">
            <div class="col-sm field .col-12 .col-md-8" style="margin-left: 30px;">
              <%= f.label :Rua, :class => "fonte-label", :style => "margin-right: 250px" %>
              <%= f.text_field :rua, autofocus: true, :class => "caixa-de-texto-login borda-caixa-texto", :placeholder => "Logradouro"%>
              <small id="ruaHelp" class="form-text text-muted">*Campo não obrigatório</small>
            </div>
          </div>
        </div>
        </br>

        <div id="esc_num">
          <div class="row">
            <div class="col-sm field .col-12 .col-md-8" style="margin-left: 30px;">
              <%= f.label :Numero, :class => "fonte-label",:style => "margin-right: 250px" %>
              <%= f.text_field :numero, autofocus: true, :class => "caixa-de-texto-login borda-caixa-texto", :placeholder => "Ex: 4285", :maxlength => "20" %>
              <small id="numHelp" class="form-text text-muted">*Campo não obrigatório</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</br>
<!-- Collapse de e-mail -->
<p>
  <div class="container" style="max-width: 500px; margin-top: 10px;">
    <a class="bg-light-yellow" data-toggle="collapse" href="#collapseExample_3" role="button" aria-expanded="false"
      aria-controls="collapseExample">
      E-mail
    </a>

</p>
<div class="collapse" id="collapseExample_3">
  <div class="card card-body">
    <div class="field-edit">
      <%= f.label :email, :class => "fonte-label", :style => "margin-right: 250px" %><br />
      <%= f.email_field :email, :class => "caixa-de-texto-login borda-caixa-texto", autofocus: true, autocomplete: "Email", :placeholder => "youse@youse.com.br" %>
    </div>
  </div>
</div>
</div>
</br>

<% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
<div>Atualmente aguardando confirmação para:<%= resource.unconfirmed_email %></div>
<% end %>
<p>
  <div class="container" style="max-width: 500px; margin-top: 10px;">
    <a class="bg-light-yellow" data-toggle="collapse" href="#collapseExample_4" role="button" aria-expanded="false"
      aria-controls="collapseExample">
      Senha
    </a>
</p>
<div class="collapse" id="collapseExample_4">
  <div class="card card-body">
    <div class="field">
      <%= f.label :password, :class => "fonte-label", :style => "margin-right: 250px" %>
      <%= f.password_field :password, :class => "caixa-de-texto-login borda-caixa-texto", autocomplete: "new-password", :placeholder => "Ex: @Youser123", id: "senha123" %>
      <a id="olhoquetudove_2" style="cursor:pointer">
        <img src="<%= image_url('remove_eye.png') %>" width="20" height="20" style="margin-left: 10px;" %>
      </a>
      <small id="fullnameHelp" class="form-text text-muted">
        <% if @minimum_password_length %>
        <em><%= @minimum_password_length %> caracteres no mínimo</em>
        <% end %>
        <br />
        Deixe em branco caso não queira mudar.
      </small>
    </div>

    <br>
    <div class="field">
      <%= f.label :password_confirmation, :class => "fonte-edit", :style => "margin-right: 110px" %> <br />
      <%= f.password_field :password_confirmation, :class => "caixa-de-texto-login borda-caixa-texto", autocomplete: "new-password", :placeholder => "Ex: @Youser123", id: "confirmar123" %>
      <a id="olhoquetudove_1" style="cursor:pointer">
        <img src="<%= image_url('remove_eye.png') %>" width="20" height="20" style="margin-left: 10px;" %>
      </a>
    </div>
  </div>
</div>
</div>

<div class="modal fade bd-example-modal-sm" id="modalAtualizar" tabindex="-1" role="dialog"
  aria-labelledby="mySmallModalLabel" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <img src="<%= image_url('alerta.png') %>" width="30" height="30" class="d-inline-block align-top displayed"
          alt="logo os incriveis" style="margin-left: 10px;">
        <h5 class="modal-title titulo-modal" id="exampleModalLabel" style="margin-right: 15px;"> Eita! </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Tem certeza que deseja atualizar sua conta?
        <br>
        <br>
        <div>
          <button id="btnAtualizar2" class="cancelar">Confirmar</button>
        </div>
        <br>
      </div>
    </div>
  </div>
</div>

<div class="modal fade bd-example-modal-sm" id="delete-account-modal" tabindex="-1" role="dialog"
  aria-labelledby="mySmallModalLabel" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <img src="<%= image_url('alerta.png') %>" width="30" height="30" class="d-inline-block align-top displayed"
          alt="logo os incriveis" style="margin-left: 10px;">
        <h5 class="modal-title titulo-modal" id="exampleModalLabel" style="margin-right: 15px;"> Cuidadooo! </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Tem certeza que deseja apagar sua conta?
        <br>
        <br>
        <div>
          <%= button_to "SIM", registration_path(resource_name), method: :delete, :class => "cancelar" %>
          <button data-dismiss="modal" class="cancelar">NÃO</button>
        </div>
        <br>
      </div>
    </div>
  </div>
</div>

<br>
<br>
<div class="container" style="max-width: 500px; margin-top: 10px;">
  <div class="card card-body confirmar">
    <div class="field">
      <%= f.label :Confirme_Sua_Senha_Atual, :class => "fonte-edit", :style => "margin-right: 30px" %>
      <%= f.password_field :current_password, :class => "caixa-de-texto-login borda-caixa-texto", autocomplete: "Confirme_Sua_Senha_Atual", id: "123" %>
      <a id="olhoquetudove" style="cursor:pointer">
        <img src="<%= image_url('remove_eye.png') %>" width="20" height="20" style="margin-left: 10px;" %>
      </a>
      </br></br>
      <% end %>
      <button id="btnAtualizar" class="cancelar">Atualizar</button>
    </div>
  </div>
</div>
</br>
</br>
<p>
  <button type="button" class="cancelar" data-toggle="modal" data-target="#delete-account-modal">
    Apagar conta
  </button>
</p>

</div>


<%= link_to "Voltar", :ideas, :class => "op1" %>

<br>

<script>

  // Valida Formato de senha 
  var password = new RegExp('(?=^.{8,}$)(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^A-Za-z0-9]).*');
  // Valida Formato de E-mail
  var email = new RegExp('^[a-z0-9](\.?[a-z0-9])+@youse.com.br$');

  function TestaCPF(strCPF) {
    strCPF = strCPF.replace(/[^0-9]/g, '');
    var Soma;
    var Resto;
    Soma = 0;
    if (strCPF == "00000000000" ||
      strCPF == "11111111111" ||
      strCPF == "22222222222" ||
      strCPF == "33333333333" ||
      strCPF == "44444444444" ||
      strCPF == "55555555555" ||
      strCPF == "66666666666" ||
      strCPF == "77777777777" ||
      strCPF == "88888888888" ||
      strCPF == "99999999999") return false;
    for (i = 1; i <= 9; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (11 - i);
    Resto = (Soma * 10) % 11;
    if ((Resto == 10) || (Resto == 11)) Resto = 0;
    if (Resto != parseInt(strCPF.substring(9, 10))) return false;
    Soma = 0;
    for (i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i - 1, i)) * (12 - i);
    Resto = (Soma * 10) % 11;
    if ((Resto == 10) || (Resto == 11)) Resto = 0;
    if (Resto != parseInt(strCPF.substring(10, 11))) return false;
    return true;
  }

  function TestaCNPJ(cnpj) {
    cnpj = cnpj.replace(/[^\d]+/g, '');
    if (cnpj == '') return false;
    if (cnpj.length != 14)
      return false;
    if (cnpj == "00000000000000" ||
      cnpj == "11111111111111" ||
      cnpj == "22222222222222" ||
      cnpj == "33333333333333" ||
      cnpj == "44444444444444" ||
      cnpj == "55555555555555" ||
      cnpj == "66666666666666" ||
      cnpj == "77777777777777" ||
      cnpj == "88888888888888" ||
      cnpj == "99999999999999")
      return false;
    // Valida DVs
    tamanho = cnpj.length - 2
    numeros = cnpj.substring(0, tamanho);
    digitos = cnpj.substring(tamanho);
    soma = 0;
    pos = tamanho - 7;
    for (i = tamanho; i >= 1; i--) {
      soma += numeros.charAt(tamanho - i) * pos--;
      if (pos < 2)
        pos = 9;
    }
    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
    if (resultado != digitos.charAt(0))
      return false;
    tamanho = tamanho + 1;
    numeros = cnpj.substring(0, tamanho);
    soma = 0;
    pos = tamanho - 7;
    for (i = tamanho; i >= 1; i--) {
      soma += numeros.charAt(tamanho - i) * pos--;
      if (pos < 2)
        pos = 9;
    }
    resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
    if (resultado != digitos.charAt(1))
      return false;
    return true;
  }
  // modal para atualizar 
  $("#btnAtualizar").click(function () {
    $("#modalAtualizar").modal({ show: true });
  })

  $("#btnAtualizar2").click(function () {
    console.log('funciona');
  })

  $(document).ready(function () {
    $("#user_cep").keyup(function () {
      if ($(this).val().length == 9) {
        $.ajax({
          url: 'https://viacep.com.br/ws/' + $(this).val() + '/json/unicode/',
          dataType: 'json',
          success: function (resposta) {
            $("#user_rua").val(resposta.logradouro);
            $("#complemento").val(resposta.complemento);
            $("#user_bairro").val(resposta.bairro);
            $("#user_cidade").val(resposta.localidade);
            $("#user_estado").val(resposta.uf);
            if (resposta.erro !== true) {
              $("#user_cep").css("border-color", "green");
              $('#text-cep').popover('hide')
            }
            else {
              $("#user_cep").css("border-color", "red");
              $('#text-cep').popover('show')
            }
          }
        });
      }
      else if ($(this).val().length > 0) {
        $("#user_cep").css("border-color", "orange");
        $("#user_rua").val("");
        $("#complemento").val("");
        $("#user_bairro").val("");
        $("#user_cidade").val("");
        $("#user_estado").val("");
        $('#text-cep').popover('show')
      }
      else {
        $("#user_cep").css("border-color", "rgb(132, 46, 176)");
        $("#user_rua").val("");
        $("#complemento").val("");
        $("#user_bairro").val("");
        $("#user_cidade").val("");
        $("#user_estado").val("");
        $('#text-cep').popover('hide')
      }
    });
    $('#user_cpf').mask('000.000.000-00');
    $('#user_cep').mask('00000-000');
    $('#user_cnpj').mask('00.000.000/0000-00');
    jQuery('#user_fullname').keyup(function () {
      this.value = this.value.replace(/[^A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]/g, '');
    });

    $("#user_pf_pj").change(function () {
      $('.back-link').hide();

      if ($(this).val() === "PF") {
        $("#esc_razao").hide();
        $("#esc_cnpj").hide();
        $("#esc_nomec").show();
        $("#esc_cpf").show();
        $("#user_razaosocial").val('');
        $("#user_cnpj").val('');
        $("#user_razaosocial").css("border-color", "rgb(132, 46, 176)");
        $("#user_cnpj").css("border-color", "rgb(132, 46, 176)");
        $('#text-cnpj').popover('hide')
      } else {
        $("#esc_razao").show();
        $("#esc_cnpj").show();
        $("#esc_nomec").hide();
        $("#esc_cpf").hide();
        $("#user_fullname").val('');
        $("#user_cpf").val('');
        $("#user_fullname").css("border-color", "rgb(132, 46, 176)");
        $("#user_cpf").css("border-color", "rgb(132, 46, 176)");
        $('#text-cpf').popover('hide');
      }

      setTimeout(function () {
        $('.back-link').show();
      }, 1000);
    });

    $("#user_cpf").keyup(function () {
      if (TestaCPF($(this).val()) && $('#user_fullname').val().length > 0) {
        $("#esc_email").show();
        $("#esc_senha").show();
        $("#esc_conf").show();
      }
    });

    $("#user_fullname").keyup(function () {
      if ($(this).val().length > 0) {
        $(this).css("border-color", "green");
      }
      else {
        $(this).css("border-color", "rgb(132, 46, 176)");
      }
      if ($(this).val().length > 0 && TestaCPF($(this).val())) {
        $("#esc_email").show();
        $("#esc_senha").show();
        $("#esc_conf").show();
      }
      if (TestaCPF($("#user_cpf").val()) && $(this).val().length > 0) {
        $("#esc_email").show();
        $("#esc_senha").show();
        $("#esc_conf").show();
      }

    });
    $("#user_cnpj").keyup(function () {
      if (TestaCNPJ($(this).val()) && $("#user_razaosocial").val().length > 0) {
        $("#esc_email").show();
        $("#esc_senha").show();
        $("#esc_conf").show();
      }
    });
    $("#user_razaosocial").keyup(function () {
      if (TestaCNPJ($("#user_cnpj").val()) && $(this).val().length > 0) {
        $("#esc_email").show();
        $("#esc_senha").show();
        $("#esc_conf").show();
      }
      if ($(this).val().length > 0) {
        $(this).css("border-color", "green");
      }
      else {
        $(this).css("border-color", "rgb(132, 46, 176)");
      }
      if ($(this).val().length > 0 && $('#user_cnpj').val().length === 18) {
        $("#esc_email").show();
        $("#esc_senha").show();
        $("#esc_conf").show();
      }
    });

    if ($('#lanaerror_explanation').length > 0) {
      var cnpjCpf = $("#user_pf_pj").val();
      $("#esc_cep").show();
      $("#esc_est").show();
      $("#esc_cid").show();
      $("#esc_bairro").show();
      $("#esc_rua").show();
      $("#esc_num").show();
      $("#esc_botao").show();
      $("#esc_email").show();
      $("#esc_senha").show();
      $("#esc_conf").show();
      if (cnpjCpf == 'PF') {
        $("#esc_nomec").show();
        $("#esc_cpf").show();
      } else {
        $("#esc_razao").show();
        $("#esc_cnpj").show();
      }
    }
    $("#user_pf_pj").change(function () {
      if ($(this).val() === 'PF') {
        $("#cepHelp").show();
        $("#estHelp").show();
        $("#cidHelp").show();
        $("#bairroHelp").show();
        $("#ruaHelp").show();
        $("#numHelp").show();
        $("#user_razaosocial").css("border-color", "rgb(132, 46, 176)");
        $("#user_cnpj").css("border-color", "rgb(132, 46, 176)");
        $('#text-cnpj').popover('hide')
      }
      else {
        $("#cepHelp").hide();
        $("#ruaHelp").show();
        $("#numHelp").show();
        $("#estHelp").show();
        $("#cidHelp").show();
        $("#bairroHelp").show();
        $("#user_fullname").css("border-color", "rgb(132, 46, 176)");
        $("#user_cpf").css("border-color", "rgb(132, 46, 176)");
        $('#text-cpf').popover('hide');
      }
    })

    $(this).scrollTop(0);

    jQuery(function () {
      $("#user_email").keyup(function () {
        if ($(this).val().length > 0) {
          var VAL = this.value;

          if (email.test(VAL)) {

            $(this).css("border-color", "green");
            $('#text-email').popover('hide')
          }
          else {
            $(this).css("border-color", "red");
            $('#text-email').popover('show')
          }
        }
        else {
          $(this).css("border-color", "rgb(132, 46, 176)");
        }
        if ($("#user_password").val() == $("#user_password_confirmation").val() && password.test($("#user_password").val()) && email.test(VAL)) {
          $("#esc_cep").show();
          $("#esc_est").show();
          $("#esc_cid").show();
          $("#esc_bairro").show();
          $("#esc_rua").show();
          $("#esc_num").show();
          $("#esc_botao").show();
        }
      });



      $("#user_password").keyup(function () {
        var VAL = this.value;

        if ($(this).val().length > 0) {
          if (password.test(VAL)) {
            $(this).css("border-color", "green");
            $('#text-senha').popover('hide')
          }
          else {
            $(this).css("border-color", "red");
            $('#text-senha').popover('show')
          }
        }
        else {
          $(this).css("border-color", "rgb(132, 46, 176)");
          if ($("#user_password_confirmation").val().length == 0) {
            $("#user_password_confirmation").css("border-color", "rgb(132, 46, 176)");
          }
        }
        if ($("#user_password_confirmation").val().length > 0) {
          if ($(this).val() !== $("#user_password_confirmation").val()) {
            $("#user_password_confirmation").css("border-color", "red");
            $('#text-senhaconf').popover('show')

          }
          else {
            $("#user_password_confirmation").css("border-color", "green");
            $('#text-senhaconf').popover('hide')
          }
        }

        if ($(this).val() == $("#user_password_confirmation").val() && password.test(VAL) && email.test($("#user_email").val())) {
          $("#esc_cep").show();
          $("#esc_est").show();
          $("#esc_cid").show();
          $("#esc_bairro").show();
          $("#esc_rua").show();
          $("#esc_num").show();
          $("#esc_botao").show();
        }
      });

      $("#user_password_confirmation").keyup(function () {
        if ($(this).val().length > 0) {
          if ($(this).val() !== $("#user_password").val()) {
            $(this).css("border-color", "red");
            $('#text-senhaconf').popover('show')

          }
          else {
            $(this).css("border-color", "green");
            $('#text-senhaconf').popover('hide')

          }
        }
        else {
          $(this).css("border-color", "rgb(132, 46, 176)");
        }
        if ($(this).val() == $("#user_password").val() && password.test($("#user_password").val()) && email.test($("#user_email").val())) {
          $("#esc_cep").show();
          $("#esc_est").show();
          $("#esc_cid").show();
          $("#esc_bairro").show();
          $("#esc_rua").show();
          $("#esc_num").show();
          $("#esc_botao").show();
        }
      })
    });

    $("#user_cpf").keyup(function () {
      if ($(this).val().length == 14) {
        if (TestaCPF($(this).val())) {
          $(this).css("border-color", "green");
          $('#text-cpf').popover('hide')
        }
        else {
          $(this).css("border-color", "red");
          $('#text-cpf').popover('show')
        }
      }
      else if ($(this).val().length > 0) {
        $(this).css("border-color", "orange");
        $('#text-cpf').popover('show')
      }
      else {
        $(this).css("border-color", "rgb(132, 46, 176)");
        $('#text-cpf').popover('hide')
      }
    })

    $("#user_cnpj").keyup(function () {
      if ($(this).val().length == 18) {
        if (TestaCNPJ($(this).val())) {
          $(this).css("border-color", "green");
          $('#text-cnpj').popover('hide')
        }
        else {
          $(this).css("border-color", "red");
          $('#text-cnpj').popover('show')
        }
      }
      else if ($(this).val().length > 0) {
        $(this).css("border-color", "orange");
        $('#text-cnpj').popover('show')
      }
      else {
        $(this).css("border-color", "rgb(132, 46, 176)");
        $('#text-cnpj').popover('hide')
      }
    })

    // Função para mostrar a senha 

    $("#olhoquetudove").click(function () {
      var x = document.getElementById("123");
      if (x.type === "password") {
        x.type = "text";
      } else {
        x.type = "password";
      }
    })

    $("#olhoquetudove_1").click(function () {
      var x = document.getElementById("confirmar123");
      if (x.type === "password") {
        x.type = "text";
      } else {
        x.type = "password";
      }
    })

    $("#olhoquetudove_2").click(function () {
      var x = document.getElementById("senha123");
      if (x.type === "password") {
        x.type = "text";
      } else {
        x.type = "password";
      }
    })

  });

</script>